{% extends "header.html" %}

{% block extra_styles %}
<style>
  /* Ако header.html поддържа блок за допълнителни стилове */
  body {
    background: linear-gradient(135deg, #74ABE2, #5563DE);
    min-height: 100vh;
    margin: 0;
  }
  .card {
    border: none;
    border-radius: 15px;
    overflow: hidden;
  }
</style>
{% endblock %}

{% block content %}
<div class="container d-flex align-items-center justify-content-center" style="min-height: 100vh;">
  <div class="card shadow-lg">
    <div class="card-body text-center p-5">
      <h3 class="card-title mb-4">Добре дошли!</h3>
      <p class="mb-4">Здравей, {{ user.username }}!</p>
      <form method="POST" action="{% url 'base:logout' %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-dark">Изход</button>
      </form>
    </div>
  </div>
</div>

<div class="toast-container position-fixed bottom-0 end-0 p-3">
  {% for notification in notifications_list %}
  <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000">
    <div class="toast-header">
      <strong class="me-auto">Съобщение</strong>
      <small class="text-muted">{{ notification.timestamp|date:"H:i" }}</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      {{ notification.verb }}
    </div>
  </div>
  {% endfor %}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var toastElList = [].slice.call(document.querySelectorAll('.toast'));
    toastElList.forEach(function(toastEl) {
      var toast = new bootstrap.Toast(toastEl);
      toast.show();
    });
  });
</script>
{% endblock %}
